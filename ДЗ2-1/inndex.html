<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Задание 1</title>
</head>

<body>

<script>
    "use strict";

    function Menu(listOfItem) {
       var div = document.createElement('div');

        this.render = function () {
            var ul = document.createElement('ul');
            div.appendChild(ul);

            for (var i=0; i <listOfItem.length; i++ ) {

                var li = document.createElement('li');
                ul.appendChild(li);
                li.innerHTML = '<a href='+listOfItem[i].href+'>'+listOfItem[i].title+'</a>';
                li.setAttribute('id', i);
            }
            return div;
        };
        this.setClass = function (cls) { div.setAttribute('class', cls)};
        this.setId = function (id) { div.setAttribute('id', id)};
    }

    function SubMenu(listOfSubItem ) {
        Menu.call(this);

        this.render = function () {
            console.log(listOfSubItem[0].length);

            var liSub = document.getElementById(listOfSubItem[1]);
            var ul = document.createElement('ul');
            liSub.appendChild(ul);

                for (var i=0; i <listOfSubItem[0].length; i++ ) {

                    var li = document.createElement('li');
                    ul.appendChild(li);
                    li.innerHTML = '<a href='+listOfSubItem[0][i].href+'>'+listOfSubItem[0][i].title+'</a>';
                    li.setAttribute('id', (listOfSubItem[1] + i));
                }
                return div();
            };
    }

    // Одноуровневое меню
    var myMenu = new Menu(
        [
            {title: "item1", href: "#"},
            {title: "item2", href: "#"},
            {title: "item3", href: "#"}
        ]
    );

    myMenu.setClass('class1') ;
    myMenu.setId('id1');

    document.body.appendChild(myMenu.render());


    // Меню со вложенным
    var subMenu1 = new SubMenu(
        [[
            {title: "subitem1", href: "#"},
            {title: "subitem2", href: "#"},
            {title: "subitem3", href: "#"}
        ], '2']
    );

    document.body.appendChild(subMenu1.render());

    var subMenu2 = new SubMenu(
       [[
            {title: "subitem1", href: "#"},
            {title: "subitem2", href: "#"},
            {title: "subitem3", href: "#"}
        ], '0']
    );

    document.body.appendChild(subMenu2.render());


</script>

</body>
</html>